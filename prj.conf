# SPDX-License-Identifier: Apache-2.0

# Zephyr Kernel Configuration
CONFIG_HEAP_MEM_POOL_SIZE=16384
CONFIG_MAIN_STACK_SIZE=2048
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048

# Logging Configuration
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_LOG_PRINTK=y
CONFIG_LOG_MODE_IMMEDIATE=y

CONFIG_LOG_MAX_LEVEL=1
CONFIG_LOG_MODE_MINIMAL=n
CONFIG_LOG_BACKEND_SPINEL=y
CONFIG_LOG_BACKEND_RTT=y
CONFIG_LOG_BACKEND_UART=n
CONFIG_BOOT_BANNER=n

# Serial/UART Configuration for CN105
CONFIG_SERIAL=y
CONFIG_UART_INTERRUPT_DRIVEN=y
CONFIG_UART_LINE_CTRL=y

# C++ Support
CONFIG_CPP=y
CONFIG_NEWLIB_LIBC=y

# Networking (for Matter/Thread)
CONFIG_NETWORKING=y
CONFIG_NET_IPV6=y
CONFIG_NET_UDP=y
CONFIG_NET_TCP=y
CONFIG_NET_L2_OPENTHREAD=y

# Disable certain parts of Zephyr IPv6 stack
CONFIG_NET_IPV6_NBR_CACHE=n
CONFIG_NET_IPV6_MLD=n

# Use HDLC RCP interface (host mode) for OpenThread
CONFIG_HDLC_RCP_IF=y
CONFIG_HDLC_RCP_IF_UART=y
CONFIG_OPENTHREAD_HDLC_RCP_IF_UART_RX_RING_BUFFER_SIZE=1024
CONFIG_OPENTHREAD_HDLC_RCP_IF_UART_TX_RING_BUFFER_SIZE=1024

# Basic OpenThread settings for quick bring-up
CONFIG_NET_CONFIG_SETTINGS=y
CONFIG_NET_CONFIG_IEEE802154_CHANNEL=26
CONFIG_NET_CONFIG_IEEE802154_PAN_ID=0x1234


# Optional: OT shell for debugging
# Uncomment if you want CLI at the Zephyr shell
# CONFIG_SHELL=y
# CONFIG_NET_SHELL=y
# CONFIG_OPENTHREAD_SHELL=y

# Thread Configuration (for Matter)
# TODO: Enable when Matter SDK is integrated
# CONFIG_NET_L2_OPENTHREAD=y
# CONFIG_OPENTHREAD_NORDIC_LIBRARY=y

# Matter SDK Configuration
# TODO: Enable when Matter SDK is integrated
# CONFIG_CHIP=y
# CONFIG_CHIP_PROJECT_CONFIG="matter_config.h"
# CONFIG_CHIP_DEVICE_VENDOR_ID=0xFFF1
# CONFIG_CHIP_DEVICE_PRODUCT_ID=0x8001

# Flash and Storage (for Matter credentials)
CONFIG_FLASH=y
CONFIG_FLASH_PAGE_LAYOUT=y
CONFIG_FLASH_MAP=y
CONFIG_NVS=y
CONFIG_SETTINGS=y
CONFIG_SETTINGS_NVS=y

# Increase memory for Matter stack
CONFIG_IDLE_STACK_SIZE=1024
CONFIG_ISR_STACK_SIZE=2048

# Debugging
CONFIG_DEBUG=y
CONFIG_THREAD_NAME=y
CONFIG_THREAD_MONITOR=y

# Console
CONFIG_CONSOLE=y
CONFIG_UART_CONSOLE=y

# Enable asserts for development
CONFIG_ASSERT=y
CONFIG_ASSERT_LEVEL=2
